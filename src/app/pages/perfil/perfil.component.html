

<div class="row">

    <div class="col-md-6">
        <div class="card">
            <div class="card-body">
                <h4 class="card-title">Mi perfil de usuario</h4>
                <h6 class="card-subtitle">Ajustes</h6>

                <form class="form p-t-20"
                        [formGroup]="perfilForm"
                        (submit)="actualizarPerfil()">

                    <div class="form-group">
                        <label for="exampleInputuname">Nombre de usuario</label>
                        <div class="input-group">
                            <div class="input-group-addon"><i class="ti-user"></i></div>
                            <input type="text"
                                    class="form-control"
                                    id="exampleInputuname"
                                    placeholder="Nombre del usuario"
                                    formControlName="nombre">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="exampleInputEmail1">Dirección de correo electrónico</label>
                        <div class="input-group">
                            <div class="input-group-addon"><i class="ti-email"></i></div>
                            <input type="email"
                                    class="form-control"
                                    id="exampleInputEmail1"
                                    placeholder="Email"
                                    formControlName="email"
                                    [readOnly]="usuario.google">
                        </div>
                    </div>

                    <div class="form-group row" *ngIf="perfilForm.value.email.split('@')[1] == 'unprg.edu.pe' && usuario.role!='ADMIN_ROLE'">
                      <label for="exampleInputText3" class="col-sm-3 control-label">Escuela</label>
                      <div class="col-sm-9">
                          <div class="input-group">
                              <select
                                      formControlName="escuela">
                                  <option value="" disabled selected>Selecciona</option>
                                  <option *ngFor="let escuela of escuelas"
                                      [value]="escuela" selected>
                                      {{ escuela }}
                                  </option>
                              </select>

                          </div>
                          <p><b>Actual: {{escuelaSeleccionado}}</b></p>
                      </div>
                    </div>
                    <button type="submit"
                            class="btn btn-success btn-block waves-effect waves-light m-r-10"
                            [disabled]="perfilForm.invalid">
                        <i class="fa fa-save"></i>
                        Guardar cambios
                    </button>
                </form>

            </div>
        </div>
    </div>


    <div class="col-md-6">
        <div class="card">
            <div class="card-body">
                <h4 class="card-title">Foto de perfil</h4>
                <h6 class="card-subtitle">Imagen del usuario</h6>

                <div class="text-center">
                    <img *ngIf="!imgTemp" [src]="usuario.imagenUrl" class="img-avatar">
                    <img *ngIf="imgTemp" [src]="imgTemp" class="img-avatar">
                </div>

                <input type="file"
                        (change)="cambiarImagen($event.target.files[0])">

                <br>
                <br>

                <button type="button"
                        class="btn btn-success btn-block waves-effect waves-light m-r-10"
                        [disabled]="!imagenSubir"
                        (click)="subirImagen()">
                    <i class="fa fa-save"></i>
                    Cambiar imagen
                </button>

            </div>
        </div>
    </div>


</div>
